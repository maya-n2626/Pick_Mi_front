<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PickMi - Anonymous Note Throwing</title>
    <link rel="stylesheet" href="./style/styles.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Status Bar -->
      <div class="status-bar">
        <span id="time">9:41</span>
        <span>PickMi</span>
        <span>üîã 100%</span>
      </div>

      <!-- Login Screen -->
      <div id="login-screen" class="screen active">
        <div class="auth-container">
          <div class="auth-card">
            <h1 class="auth-title">Welcome to PickMi</h1>
            <form id="login-form">
              <div class="form-group">
                <label class="form-label">Email</label>
                <input
                  type="email"
                  class="form-input"
                  id="login-email"
                  required
                />
              </div>
              <div class="form-group">
                <label class="form-label">Password</label>
                <input
                  type="password"
                  class="form-input"
                  id="login-password"
                  required
                />
              </div>
              <div id="login-error" class="error-message"></div>
              <button type="submit" class="btn-primary">Sign In</button>
              <div style="text-align: center">
                <button type="button" class="btn-secondary" id="show-signup">
                  Sign Up
                </button>
                <button type="button" class="btn-secondary" id="show-forgot">
                  Forgot Password?
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Signup Screen -->
      <div id="signup-screen" class="screen">
        <div class="auth-container">
          <div class="auth-card">
            <h1 class="auth-title">Create Account</h1>
            <form id="signup-form">
              <div class="form-group">
                <label class="form-label">Email</label>
                <input
                  type="email"
                  class="form-input"
                  id="signup-email"
                  required
                />
              </div>
              <div class="form-group">
                <label class="form-label">Password</label>
                <input
                  type="password"
                  class="form-input"
                  id="signup-password"
                  required
                />
              </div>
              <div id="signup-error" class="error-message"></div>
              <button type="submit" class="btn-primary">Create Account</button>
              <div style="text-align: center">
                <button type="button" class="btn-secondary" id="back-to-login">
                  Back to Login
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Forgot Password Screen -->
      <div id="forgot-screen" class="screen">
        <div class="auth-container">
          <div class="auth-card">
            <h1 class="auth-title">Reset Password</h1>
            <form id="forgot-form">
              <div class="form-group">
                <label class="form-label">Email</label>
                <input
                  type="email"
                  class="form-input"
                  id="forgot-email"
                  required
                />
              </div>
              <div id="forgot-error" class="error-message"></div>
              <button type="submit" class="btn-primary">Send Reset Link</button>
              <div style="text-align: center">
                <button
                  type="button"
                  class="btn-secondary"
                  id="back-to-login-2"
                >
                  Back to Login
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Home Screen -->
      <div id="home-screen" class="screen">
        <div class="app-header">
          <div class="logo">PickMi</div>
          <div>
            <button class="nav-button" id="show-map">Map</button>
            <button class="nav-button" id="show-profile">Profile</button>
            <button class="nav-button" id="admin-btn" style="display: none">
              Admin
            </button>
          </div>
        </div>
        <div class="home-content">
          <div class="floating-notes" id="notes-container">
            <!-- Notes will be dynamically added here -->
          </div>
          <div
            class="action-buttons"
            style="display: flex; justify-content: center"
          >
            <button class="fab" id="new-note-btn" title="Create Note">
              üìù
            </button>
          </div>
        </div>
      </div>

      <!-- Map Screen -->
      <div id="map-screen" class="screen">
        <div class="app-header">
          <button class="nav-button" id="back-from-map">‚Üê Back</button>
          <div class="logo">Map</div>
          <div></div>
        </div>
        <div style="padding: 20px">
          <div class="map-container">
            <div id="map" style="width: 100%; height: 100%"></div>
          </div>
        </div>
      </div>

      <!-- Note Editor Screen -->
      <div id="note-editor-screen" class="screen">
        <div class="app-header">
          <button class="nav-button" id="back-from-editor">‚Üê Back</button>
          <div class="logo">New Note</div>
          <button class="nav-button" id="save-note">Save</button>
        </div>
        <div class="note-editor">
          <div style="margin-bottom: 20px">
            <button type="button" class="btn-secondary" id="text-mode">
              Text
            </button>
            <button type="button" class="btn-secondary" id="draw-mode">
              Draw
            </button>
          </div>

          <div id="text-editor" style="display: block">
            <textarea
              id="note-text"
              class="note-input"
              placeholder="Write your note here..."
            ></textarea>
          </div>

          <div id="draw-editor" style="display: none">
            <div class="canvas-container">
              <canvas
                id="drawing-canvas"
                class="drawing-canvas"
                width="320"
                height="240"
              ></canvas>
              <div class="canvas-controls">
                <label>Color:</label>
                <input type="color" id="brush-color" value="#000000" />
                <label>Size:</label>
                <input
                  type="range"
                  id="brush-size"
                  min="1"
                  max="20"
                  value="5"
                />
                <button type="button" class="btn-secondary" id="clear-canvas">
                  Clear
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Note View Screen -->
      <div id="note-view-screen" class="screen">
        <div class="app-header">
          <button class="nav-button" id="back-from-note">‚Üê Back</button>
          <div class="logo">Note</div>
        </div>
        <div class="note-content" id="note-content">
          <!-- Note content will be loaded here -->
        </div>
      </div>

      <!-- Profile Screen -->
      <div id="profile-screen" class="screen">
        <div class="app-header">
          <button class="nav-button" id="back-from-profile">‚Üê Back</button>
          <div class="logo">Profile</div>
          <button class="nav-button" id="logout-btn">Logout</button>
        </div>
        <div style="padding: 40px">
          <div class="auth-card">
            <h2 style="text-align: center; margin-bottom: 30px">
              Account Settings
            </h2>
            <button
              class="btn-danger"
              id="delete-account-btn"
              style="width: 100%"
            >
              üóëÔ∏è Delete Account
            </button>
          </div>
        </div>
      </div>

      <!-- ====== ADMIN PANEL ====== -->
      <div id="admin-screen" class="container screen">
        <img id="status-bar" src="./images/status-bar.png" />

        <div class="app-bar">
          <img
            id="app-icon6"
            src="/images/indicator-Day.png"
            alt="App Icon"
            class="App-icon"
          />
        </div>

        <div class="admin-header">
          <button id="back-from-admin" class="btn-link">‚Üê Back</button>
        </div>

        <h2>All Users</h2>
        <div class="admin-box">
          <div id="admin-users"></div>
        </div>

        <h2>All Notes</h2>
        <div class="admin-box">
          <div id="admin-notes"></div>
        </div>
      </div>
    </div>

    <script
      src="https://maps.googleapis.com/maps/api/js?key=%VITE_GOOGLE_MAPS_API_KEY%&libraries=marker,places&callback=initMap&loading=async"
      async
      defer
    ></script>
    <script type="module" src="./js/app.js" defer></script>
  </body>
</html>
